%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\UC{Inserimento carta per il pagamento}
L'acquirente è nella fase del checkout e vuole inserire una nuova carta da utilizzare per il pagamento.
\begin{itemize}
    \item \textbf{Attori primari:} acquirente;
    \item \textbf{Precondizione:} l'acquirente è nella fase del checkout e ha selezionato l'azione di aggiunta di una nuova carta;
    \item \textbf{Postcondizione:} l'acquirente ha aggiunto la nuova carta da utilizzare per il pagamento;
    \item \textbf{Scenario principale:} l'acquirente è nella fase del checkout e vuole inserire una nuova carta. Per poterlo fare dovrà eseguire le seguenti azioni:
    \begin{itemize}
        \item (\actualUC.1) - Inserimento dei dati della carta;
        \item Conferma l'aggiunta della carta.
    \end{itemize}
    \item \textbf{Scenari alternativi}:
    \begin{enumerate}[label=\lett]
        \item Se non viene confermata l'aggiunta della nuova carta per il pagamento, allora non verrà aggiunta e si andranno a perdere tutti i dati relativi ad essa che sono stati inseriti.
    \end{enumerate}
\end{itemize}

\resetSubUC

\subUC{Inserimento dei dati della carta}
L'acquirente compila il modulo per aggiungere una nuova carta.
\begin{itemize}
	\item \textbf{Attori primari:} acquirente;
	\item \textbf{Precondizione:} l'acquirente si trova nella schermata di aggiunta di una nuova carta;
	\item \textbf{Postcondizione:} l'acquirente ha compilato correttamente tutti i dati della carta e può continuare con l'aggiunta;
	\item \textbf{Scenario principale:} l'acquirente compila i campi nel seguente modo:
	\begin{itemize}
		\item (\actualSubUC.1) - Inserimento dell'intestatario della carta per il pagamento;
		\item (\actualSubUC.2) - Inserimento del numero della carta per il pagamento;
		\item (\actualSubUC.3) - Inserimento del CVV della carta per il pagamento;
		\item (\actualSubUC.4) - Inserimento della data di scadenza della carta per il pagamento.
	\end{itemize}
\end{itemize}

\resetSubSubUC

\subSubUC{Inserimento dell'intestatario della carta per il pagamento}
L'acquirente inserisce l'intestatario della nuova carta da aggiungere.
\begin{itemize}
    \item \textbf{Attori primari:} acquirente;
    \item \textbf{Precondizione:} l'acquirente si trova nella schermata di aggiunta di una nuova carta;
    \item \textbf{Postcondizione:} l'acquirente ha inserito l'intestatario della carta da aggiungere;
    \item \textbf{Scenario principale:} l'acquirente inserisce correttamente l'intestatario della carta da aggiungere.
    \item \textbf{Estensioni:}
    \begin{enumerate}[label=\lett]
        \item L'acquirente non inserisce alcun intestatario della carta. In questo caso:
        \begin{itemize}
            \item (UC) - Viene mostrato il messaggio d'errore campo dati obbligatorio non inserito;
            \item Verrà impedita l'aggiunta della carta.
        \end{itemize}
        \item L'acquirente inserisce dei caratteri non alfabetici. In questo caso:
        \begin{itemize}
            \item (UC) - Viene mostrato il messaggio d'errore caratteri non alfabetici non permessi;
            \item Verrà impedita l'aggiunta della carta.
        \end{itemize}
    \end{enumerate}
\end{itemize}

\subSubUC{Inserimento del numero della carta per il pagamento}
L'acquirente inserisce il numero della nuova carta da aggiungere.
\begin{itemize}
    \item \textbf{Attori primari:} acquirente;
    \item \textbf{Precondizione:} l'acquirente si trova nella schermata di aggiunta di una nuova carta;
    \item \textbf{Postcondizione:} l'acquirente ha inserito il numero della carta da aggiungere;
    \item \textbf{Scenario principale:} l'acquirente inserisce correttamente il numero della carta da aggiungere;
    \item \textbf{Estensioni:}
    \begin{enumerate}[label=\lett]
        \item L'acquirente non inserisce alcun numero della carta. In questo caso:
        \begin{itemize}
            \item (UC) - Viene mostrato il messaggio d'errore campo dati obbligatorio non inserito;
            \item Verrà impedita l'aggiunta della carta.
        \end{itemize}
        \item L'acquirente non inserisce esattamente 16 numeri compresi tra 0 e 9 come numero della carta. In questo caso:
        \begin{itemize}
            \item (UC) - Viene mostrato il messaggio d'errore numero della carta non valido;
            \item Verrà impedita l'aggiunta della carta.
        \end{itemize}
    \end{enumerate}
\end{itemize}

\subSubUC{Inserimento del CVV della carta per il pagamento}
L'acquirente inserisce il CVV della nuova carta da aggiungere.
\begin{itemize}
    \item \textbf{Attori primari:} acquirente;
    \item \textbf{Precondizione:} l'acquirente si trova nella schermata di aggiunta di una nuova carta;
    \item \textbf{Postcondizione:} l'acquirente ha inserito il CVV della carta da aggiungere;
    \item \textbf{Scenario principale:} l'acquirente inserisce correttamente il CVV della carta da aggiungere.
    \item \textbf{Estensioni:}
    \begin{enumerate}[label=\lett]
        \item L'acquirente non inserisce alcun CVV della carta. In questo caso:
        \begin{itemize}
            \item (UC) - Viene mostrato il messaggio d'errore campo dati obbligatorio non inserito;
            \item Verrà impedita l'aggiunta della carta.
        \end{itemize}
        \item L'acquirente non inserisce esattamente 3 numeri compresi tra 0 e 9 come CVV della carta. In questo caso:
        \begin{itemize}
            \item (UC) - Viene mostrato il messaggio d'errore CVV della carta non valido;
            \item Verrà impedita l'aggiunta della carta.
        \end{itemize}
    \end{enumerate}
\end{itemize}

\subSubUC{Inserimento della data di scadenza della carta per il pagamento}
L'acquirente inserisce la data di scadenza della nuova carta da aggiungere.
\begin{itemize}
    \item \textbf{Attori primari:} acquirente;
    \item \textbf{Precondizione:} l'acquirente si trova nella schermata di aggiunta di una nuova carta;
    \item \textbf{Postcondizione:} l'acquirente ha inserito la data di scadenza della carta;
    \item \textbf{Scenario principale:} l'acquirente inserisce correttamente la data di scadenza della carta da aggiungere.
    \item \textbf{Estensioni:}
    \begin{enumerate}[label=\lett]
        \item L'acquirente non inserisce alcuna data di scadenza della carta. In questo caso:
        \begin{itemize}
            \item (UC) - Viene mostrato il messaggio d'errore campo dati obbligatorio non inserito;
            \item Verrà impedita l'aggiunta della carta.
        \end{itemize}
        \item L'acquirente non inserisce una data valida. In questo caso:
        \begin{itemize}
            \item (UC) - Viene mostrato il messaggio d'errore di data non valida;
            \item Verrà impedita l'aggiunta della carta.
        \end{itemize}
    \end{enumerate}
\end{itemize}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\UC{Modifica carta per il pagamento}
L'acquirente è nella fase del checkout e vuole modificare una carta precedentemente inserita da utilizzare per il pagamento.
\begin{itemize}
    \item \textbf{Attori primari:} acquirente;
    \item \textbf{Precondizione:} l'acquirente è nella fase del checkout e ha selezionato l'azione di modifica di una carta precedentemente inserita;
    \item \textbf{Postcondizione:} l'acquirente ha modificato la carta desiderata;
    \item \textbf{Scenario principale:} l'acquirente è nella fase del checkout e ha selezionato l'azione di modifica di una carta precedentemente inserita. Le informazioni che potranno essere modificate sono:
    \begin{itemize}
        \item (\actualUC.1) - Modifica dell'intestatario della carta per il pagamento per il pagamento;
        \item (\actualUC.2) - Modifica del numero della carta per il pagamento;
        \item (\actualUC.3) - Modifica del CVV della carta per il pagamento;
        \item (\actualUC.4) - Modifica della data di scadenza della carta per il pagamento.
    \end{itemize}
    In seguito ci sarà la conferma delle modifiche compiute e i dati della carta verranno modificati;
    \item \textbf{Scenari alternativi}:
    \begin{enumerate}[label=\lett]
        \item Se non vengono confermate le modifiche compiute, allora non verranno applicate e andranno perse.
    \end{enumerate}
\end{itemize}

\resetSubUC

\subUC{Modifica dell'intestatario della carta per il pagamento}
L'acquirente vuole modificare l'intestatario di una carta precedentemente inserita.
\begin{itemize}
    \item \textbf{Attori primari:} acquirente;
    \item \textbf{Precondizione:} l'acquirente si trova nella schermata di modifica di una carta precedentemente inserita;
    \item \textbf{Postcondizione:} l'acquirente ha modificato l'intestatario della carta;
    \item \textbf{Scenario principale:} l'acquirente modifica correttamente l'intestatario della carta attraverso le seguenti azioni:
    \begin{itemize}
        \item Si posiziona nel campo dove è presente l'attuale intestatario della carta;
        \item Modifica l'intestatario della carta.
    \end{itemize}
    \item \textbf{Scenari alternativi}:
    \begin{enumerate}[label=\lett]
        \item L'acquirente non modifica l'intestatario della carta attuale e, per questo, non verrà modificato.
    \end{enumerate}
    \item \textbf{Estensioni:}
    \begin{enumerate}[label=\lett]
        \item L'acquirente elimina l'attuale intestatario della carta e non ne inserisce uno nuovo. In questo caso:
        \begin{itemize}
            \item (UC) - Viene mostrato il messaggio d'errore campo dati obbligatorio non inserito;
            \item Verrà impedita la modifica della carta.
        \end{itemize}
        \item L'acquirente modifica l'intestatario della carta inserendo dei caratteri non alfabetici. In questo caso:
        \begin{itemize}
            \item (UC) - Viene mostrato il messaggio d'errore caratteri non alfabetici non permessi;
            \item Verrà impedita la modifica della carta.
        \end{itemize}
    \end{enumerate}
\end{itemize}

\subUC{Modifica del numero della carta per il pagamento}
L'acquirente vuole modificare il numero di una carta precedentemente inserita.
\begin{itemize}
    \item \textbf{Attori primari:} acquirente;
    \item \textbf{Precondizione:} l'acquirente si trova nella schermata di modifica di una carta precedentemente inserita;
    \item \textbf{Postcondizione:} l'acquirente ha modificato il numero della carta;
    \item \textbf{Scenario principale:} l'acquirente modifica correttamente il numero della carta attraverso le seguenti azioni:
    \begin{itemize}
        \item Si posiziona nel campo dove è presente l'attuale numero della carta;
        \item Modifica il numero della carta.
    \end{itemize}
    \item \textbf{Scenari alternativi}:
    \begin{enumerate}[label=\lett]
        \item L'acquirente non modifica il numero della carta attuale e, per questo, non verrà modificato.
    \end{enumerate}
    \item \textbf{Estensioni:}
    \begin{enumerate}[label=\lett]
        \item L'acquirente elimina l'attuale numero della carta e non ne inserisce uno nuovo. In questo caso:
        \begin{itemize}
            \item (UC) - Viene mostrato il messaggio d'errore campo dati obbligatorio non inserito;
            \item Verrà impedita la modifica della carta.
        \end{itemize}
        \item L'acquirente modifica l'attuale numero della carta in modo tale che non ci siano 16 numeri compresi tra 0 e 9 come numero della carta. In questo caso:
        \begin{itemize}
            \item (UC) - Viene mostrato il messaggio d'errore numero della carta non valido;
            \item Verrà impedita la modifica della carta.
        \end{itemize}
    \end{enumerate}
\end{itemize}

\subUC{Modifica del CVV della carta per il pagamento}
L'acquirente vuole modificare il CVV di una carta precedentemente inserita.
\begin{itemize}
    \item \textbf{Attori primari:} acquirente;
    \item \textbf{Precondizione:} l'acquirente si trova nella schermata di modifica di una carta precedentemente inserita;
    \item \textbf{Postcondizione:} l'acquirente ha modificato il CVV della carta;
    \item \textbf{Scenario principale:} l'acquirente modifica correttamente il CVV della carta attraverso le seguenti azioni:
    \begin{itemize}
        \item Si posiziona nel campo dove è presente l'attuale CVV della carta;
        \item Modifica il CVV della carta.
    \end{itemize}
    \item \textbf{Scenari alternativi}:
    \begin{enumerate}[label=\lett]
        \item L'acquirente non modifica il CVV della carta attuale e, per questo, non verrà modificato.
    \end{enumerate}
    \item \textbf{Estensioni:}
    \begin{enumerate}[label=\lett]
        \item L'acquirente elimina l'attuale CVV della carta e non ne inserisce uno nuovo. In questo caso:
        \begin{itemize}
            \item (UC) - Viene mostrato il messaggio d'errore campo dati obbligatorio non inserito;
            \item Verrà impedita la modifica della carta.
        \end{itemize}
        \item L'acquirente modifica il CVV della carta in modo tale che non ci siano esattamente 3 numeri compresi tra 0 e 9 come CVV della carta. In questo caso:
        \begin{itemize}
            \item (UC) - Viene mostrato il messaggio d'errore CVV della carta non valido;
            \item Verrà impedita la modifica della carta.
        \end{itemize}
    \end{enumerate}
\end{itemize}

\subUC{Modifica della data di scadenza della carta per il pagamento}
L'acquirente vuole modificare la data di scadenza di una carta precedentemente inserita.
\begin{itemize}
    \item \textbf{Attori primari:} acquirente;
    \item \textbf{Precondizione:} l'acquirente si trova nella schermata di modifica di una carta precedentemente inserita;
    \item \textbf{Postcondizione:} l'acquirente ha modificato la data di scadenza della carta;
    \item \textbf{Scenario principale:} l'acquirente modifica correttamente la data di scadenza della carta attraverso le seguenti azioni:
    \begin{itemize}
        \item Si posiziona nel campo dove è presente l'attuale data di scadenza della carta;
        \item Modifica la data di scadenza della carta.
    \end{itemize}
    \item \textbf{Scenari alternativi}:
    \begin{enumerate}[label=\lett]
        \item L'acquirente non modifica la data di scadenza della carta attuale e, per questo, non verrà modificata.
    \end{enumerate}
    \item \textbf{Estensioni:}
    \begin{enumerate}[label=\lett]
        \item L'acquirente elimina l'attuale data di scadenza della carta e non ne inserisce una nuova. In questo caso:
        \begin{itemize}
            \item (UC) - Viene mostrato il messaggio d'errore campo dati obbligatorio non inserito;
            \item Verrà impedita la modifica della carta.
        \end{itemize}
        \item L'acquirente modifica l'attuale data di scadenza in modo tale che non sia più una data valida. In questo caso:
        \begin{itemize}
            \item (UC) - Viene mostrato il messaggio d'errore di data non valida;
            \item Verrà impedita la modifica della carta.
        \end{itemize}
    \end{enumerate}
\end{itemize}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\UC{Eliminazione carta per il pagamento}
L'acquirente elimina una carta per il pagamento precedentemente inserita.
\begin{itemize}
    \item \textbf{Attori primari:} acquirente;
    \item \textbf{Precondizione:} l'acquirente è nella fase di checkout;
    \item \textbf{Postcondizione:} l'acquirente ha eliminato la carta per il pagamento desiderata;
    \item \textbf{Scenario principale:} l'acquirente è nella fase di checkout e vuole eliminare una carta per il pagamento precedentemente inserita. Per poterlo fare dovrà svolgere le seguenti azioni:
        \begin{itemize}
            \item Seleziona la carta da eliminare;
            \item Confermare l'eliminazione della carta.
        \end{itemize}
    \item \textbf{Scenari alternativi:}
    \begin{enumerate}[label=\lett]
        \item L'acquirente non conferma l'eliminazione della carta e, per questo motivo, non verrà eliminata;
        \item Se la carta eliminata è quella attualmente selezionata per il pagamento e ci sono altre carte inserite, allora verrà selezionata per il proseguimento del pagamento la carta successiva. Se viene eliminata l'ultima carta e quindi non esiste una carta successiva, verrà selezionata la prima;
        \item Se la carta eliminata dall'acquirente è l'unica attualmente inserita, allora verrà mostrato un messaggio con l'obbligo di dover inserire una nuova carta per poter proseguire con il checkout.
    \end{enumerate}
\end{itemize}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
